/* TransAccClassTxb.cls
 * MODULE

 * DESCRIPTION
        Класс тарифов - работа с тарификатором
 * RUN
        Способ вызова программы, описание параметров, примеры вызова
 * CALLER
        Список процедур, вызывающих этот файл
 * SCRIPT
        Список скриптов, вызывающих этот файл
 * INHERIT
        Список функций класса
 * MENU
        Перечень пунктов Меню Прагмы
 * BASES
        BANK COMM TXB
 * AUTHOR
        13.09.2013 k.gitalov версия для TXB
 * CHANGES
        18.11.2013 k.gitalov - TZ 2164
                
*/


/* Класс - массив транзитных и АРП счетов */
CLASS TransAccClassTxb:

   def private var valacc as char extent 11. /* Транзитные валютные счета*/
   def private var arpacc as char.           /* АРП счет*/

/*************************************************************************************************************/
CONSTRUCTOR  public TransAccClassTxb():
      InitVal().
END CONSTRUCTOR.
/*************************************************************************************************************/
DESTRUCTOR public TransAccClassTxb():

END DESTRUCTOR.
/*************************************************************************************************************/
method public void InitVal():
   def buffer b-sysc for txb.sysc.
   find b-sysc where b-sysc.sysc = 'OURBNK' no-lock no-error.
   if avail b-sysc then
   do:

      if b-sysc.chval = 'TXB00' then   /*ЦО*/
         do:
                   valacc[2]  = "KZ09470242870A016400". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ41470342870A016100". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ40470442870A016200". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ39470642870A025500". /*полученная валюта для клиента GBP*/
                   valacc[7]  = "KZ78470742870A030700". /*полученная валюта для клиента SEK*/
                   valacc[8]  = "KZ77470842870A030800". /*полученная валюта для клиента AUD*/
                   valacc[9]  = "KZ76470942870A030900". /*полученная валюта для клиента CHF*/
                   valacc[10] = "KZ59470042870A035900". /*полученная валюта для клиента ZAR*/
                   valacc[11] = "KZ89470042870A037300". /*полученная валюта для клиента CAD*/

                   arpacc     = "KZ42470142870A016500". /*Собственные средства от продажи валюты в тенге*/
         end.
      if b-sysc.chval = 'TXB01' then   /*Актобе*/
         do:
                   valacc[2]  = "KZ22470242870A011801". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ70470342870A011601". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ04470442870A011901". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ09470642870A017601". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ71470142870A012001". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB02' then   /*Костанай*/
         do:
                   valacc[2]  = "KZ12470242870A011302". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ44470342870A011002". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ59470442870A011202". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ32470642870A016702". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ61470142870A011502". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB03' then   /*"Тараз"*/
         do:
                   valacc[2]  = "KZ51470242870A010503". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ18470342870A010403". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ33470442870A010603". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ22470642870A016203". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ03470142870A010703". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB04' then /*Уральск*/
         do:
                   valacc[2]  = "KZ89470242870A010304". /* полученная валюта для клиента USD */
                   valacc[3]  = "KZ24470342870A010004". /* полученная валюта для клиента EUR */
                   valacc[4]  = "KZ23470442870A010104". /* полученная валюта для клиента RUB */
                   valacc[6]  = "KZ93470642870A015604". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ25470142870A010404". /* Собственные средства от продажи валюты в тенге */
         end.

      if b-sysc.chval = 'TXB05' then /*Караганда*/
         do:
                   /*287044*/
                   valacc[2]  = "KZ12470242870A011205". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ11470342870A011305". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ43470442870A011005". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ80470642870A016905". /*полученная валюта для клиента GBP*/
                   valacc[7]  = "KZ04470742870A023205". /*полученная валюта для клиента SEK*/
                   valacc[8]  = "KZ83470942870A023305". /*полученная валюта для клиента AUD*/
                   valacc[9]  = "KZ02470942870A023405". /*полученная валюта для клиента CHF*/
                   valacc[10] = "KZ74470042870A023505". /*полученная валюта для клиента ZAR*/
                   valacc[11] = "KZ90470042870A023605". /*полученная валюта для клиента CAD*/
                   arpacc     = "KZ61470142870A011405". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB06' then /*Семей*/
          do:
                   valacc[2]  = "KZ68470242870A009906". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ67470342870A010006". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ66470442870A010106". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ86470642870A016506". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ52470142870A010306". /*Собственные средства от продажи валюты в тенге*/
         end.


      if b-sysc.chval = 'TXB07' then /*Кокшетау*/
          do:
                   valacc[2]  = "KZ07470242870A010907". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ39470342870A010607". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ54470442870A010807". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ11470642870A016207". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ40470142870A011007". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB08' then /*Астана*/
         do:
                   valacc[2]  = "KZ43470242870A011908". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ42470342870A012008". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ74470442870A011708". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ14470642870A017608". /*полученная валюта для клиента GBP*/
                   valacc[8]  = "KZ24470842870A030008". /*полученная валюта для клиента AUD*/
                   arpacc     = "KZ11470142870A012208". /*Собственные средства от продажи валюты в тенге*/
         end.


      if b-sysc.chval = 'TXB09' then /*Павлодар*/
         do:
                   valacc[2]  = "KZ34470242870A010809". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ33470342870A010909". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ65470442870A010609". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ05470642870A016509". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ02470142870A011109". /*Собственные средства от продажи валюты в тенге*/
         end.


      if b-sysc.chval = 'TXB10' then /*Петропавловск*/
         do:
                   valacc[2]  = "KZ72470242870A010610". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ71470342870A010710". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ70470442870A010810". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ58470642870A017010". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ56470142870A011010". /*Собственные средства от продажи валюты в тенге*/
         end.


      if b-sysc.chval = 'TXB11' then  /*Атырау*/
         do:
                   valacc[2]  = "KZ29470242870A010511". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ44470342870A010711". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ11470442870A010611". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ16470642870A016311". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ94470142870A010811". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB12' then  /*Актау*/
         do:
                   valacc[2]  = "KZ34470242870A010712". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ33470342870A010812". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ81470442870A010612". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ05470642870A016412". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ18470142870A011112". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB13' then  /*Жезказган*/
         do:
                   valacc[2]  = "KZ72470242870A010513". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ87470342870A010713". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ54470442870A010613". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ43470642870A016213". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ56470142870A010913". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB14' then  /*Усть-Каменогорск*/
         do:
                   valacc[2]  = "KZ76470242870A011314". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ11470342870A011014". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ10470442870A011114". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ62470642870A017714". /*полученная валюта для клиента GBP*/
                   valacc[7]  = "KZ75470742870A019114". /*полученная валюта для клиента SEK*/
                   valacc[8]  = "KZ74470842870A019214". /*полученная валюта для клиента AUD*/
                   valacc[9]  = "KZ73470942870A019314". /*полученная валюта для клиента CHF*/
                   valacc[10] = "KZ44470042870A021814". /*полученная валюта для клиента ZAR*/
                   valacc[11] = "KZ55470042870A024914". /*полученная валюта для клиента CAD*/

                   arpacc     = "KZ12470142870A011414". /*Собственные средства от продажи валюты в тенге*/
         end.

      if b-sysc.chval = 'TXB15' then  /*Шымкент*/
         do:
                   valacc[2]  = "KZ66470242870A010815".  /*полученная валюта для клиента USD "850076610"*/
                   valacc[3]  = "KZ65470342870A010915".  /*полученная валюта для клиента EUR "850076911"*/
                   valacc[4]  = "KZ16470442870A010715".  /*полученная валюта для клиента RUB "850076212"*/
                   valacc[6]  = "KZ51470642870A017815".  /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ18470142870A011015".  /*Собственные средства от продажи валюты в тенге "850076209"*/
         end.

      if b-sysc.chval = 'TXB16' then   /*Алматинский филиал*/
         do:
                   valacc[2]  = "KZ72470242870A010416". /*полученная валюта для клиента USD*/
                   valacc[3]  = "KZ71470342870A010516". /*полученная валюта для клиента EUR*/
                   valacc[4]  = "KZ70470442870A010616". /*полученная валюта для клиента RUB*/
                   valacc[6]  = "KZ72470642870A027816". /*полученная валюта для клиента GBP*/
                   arpacc     = "KZ56470142870A010816". /*Собственные средства от продажи валюты в тенге*/
         end.
    end.
    else do:
         message "Отсутствует переменная OURBNK!" view-as alert-box.
          DELETE OBJECT THIS-OBJECT  NO-ERROR .
         end.
end method.
/*************************************************************************************************************/

method public char valacc(input cur as int):
   if cur < 2 or cur > 11 then do: message "Неверно указана валюта счета!" view-as alert-box. return "?". end.
   else do:
     if valacc[cur] = "" then message "Неверно указан транзитный счет!" view-as alert-box.
     return valacc[cur].
   end.
end method.
/*************************************************************************************************************/
method public char arpacc():
   return arpacc.
end method.
/*************************************************************************************************************/

END CLASS.
/*************************************************************************************************************/